<section class="text-gray-600 body-font relative">
    <div class="absolute inset-0 bg-gray-300">
        <iframe 
        title="Mapa de Google Maps ubica el taller de Adler"
        class="block m-auto w-full bg-transparent bg-gray-100"
        src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3902.489194509506!2d-76.9988333!3d-12.009805599999998!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTLCsDAwJzM1LjMiUyA3NsKwNTknNTUuOCJX!5e0!3m2!1ses!2spe!4v1677281579217!5m2!1ses!2spe" 
        width="100%" 
        height="100%" 
        style="border:0; filter: grayscale(0.6) contrast(1.8) opacity(0.8);" 
        allowfullscreen="" 
        loading="lazy" 
        referrerpolicy="no-referrer-when-downgrade"
        >
        </iframe>
    </div>
    <div class="container px-5 py-24 mx-auto flex">
        <div class="lg:w-1/3 md:w-1/2 bg-principal-900 [&_input]:text-marron [&_textarea]:text-xl [&_input]:text-xl [&_te]:text-xl [&_label]:bg-white rounded-t-3xl p-2 flex flex-col md:ml-auto w-full mt-10 md:mt-0 relative z-10 shadow-md">            
            <form id="envio-correo">
                <div class="flex flex-col px-7 py-2 bg-slate-200  w-full rounded-t-3xl">
                    <div class="text-xl font-semibold">
                        <h1 class="text-3xl">Enviar mensaje</h1>
                    </div>
                    <div class="flex flex-col md:flex-row ">
                        <div class="">
                            <input type="text" name="from_name" id="from_name" placeholder="Nombres" class="w-full border-2 border-white px-3 py-1 text-xl outline-none placeholder:text-black placeholder:opacity-40 mt-4 mr-2 focus:border-gray-500 duration-200 ease-in-out rounded-lg" required>
                        </div>
                        <div class="">
                            <input type="text" name="from_apellidos" id="from_apellidos" placeholder="Apellidos" class="w-full md:w-[95%] border-2 border-white px-3 py-1 text-xl outline-none placeholder:text-black placeholder:opacity-40 mt-4 md:ml-2 focus:border-gray-500 duration-200 ease-in-out rounded-lg">
                        </div>
                    </div>

                    <input type="email" name="email_id" id="email_id" placeholder="correo@compania.com" class="w-full border-2 border-white text-xl outline-none px-3 py-1 placeholder:text-black placeholder:opacity-40 mt-4 focus:border-gray-500 duration-200 ease-in-out rounded-lg" required>
                    
                    <input type="number" name="num_celular" id="num_celular" placeholder="991152427" class="w-full border-2 border-white text-xl outline-none px-3 py-1 placeholder:text-black placeholder:opacity-40 mt-4 focus:border-gray-500 duration-200 ease-in-out rounded-lg" max="999999999" min="900000000" required>
                    
                    <textarea id="message" name="message" placeholder="Escribir un mensaje" class="mb-3 w-full border-2 border-white h-44 text-xl outline-none placeholder:text-black placeholder:opacity-40 focus:border-gray-500 py-1 px-3 mt-4 resize-none leading-6 duration-200 ease-in-out rounded-lg" required></textarea>
                    
                    <button class="bg-marron hover:bg-marron-500 w-full font-semibold text-white uppercase px-24 py-5 rounded-md text-center mx-auto my-3 rounded-lg rounded-bl-lg text-2xl" id="btn-contact">Enviar</button>
                </div>
            </form>
        </div>
    </div>
</section>


<script>
    const btn = document.getElementById('btn-contact');

    document.getElementById('envio-correo')
    .addEventListener('submit', function(event) {
        event.preventDefault();
        let envio = false
        let msn = 'Falso'
        btn.value = 'Validando...';
        let nombre = document.getElementById("from_name").value;
        let correo = document.getElementById("email_id").value;
        let celular = document.getElementById("num_celular").value;
        let message = document.getElementById("message").value;

        btn.value = 'Enviando...';
        

        const serviceID = 'default_service';
        const templateID = 'template_uj82mc2';

        emailjs.sendForm(serviceID, templateID, this)
        .then(() => {
            btn.value = 'Enviar';
            document.getElementById("model-open").click();
            document.getElementById('envio-correo').reset();

        }, (err) => {
            btn.value = 'Send Email';
            alert(JSON.stringify(err));
        });      
    });

    function limpiar(mail) 
    {
        if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(mail))
        {
            return true
        }
        
        return false
    }

    function phonenumber(inputtxt)
    {
        if (/^\d{9}$/.test(inputtxt))
        {
            return true;
        }
        else
        {
            return false;
        }
    }

    function valueRequiest(inputtxt)
    {
        if (/^\s+$/.test(inputtxt) || inputtxt == null || inputtxt.length ==0)
        {
            return false;
        }
        else
        {
            return true;
        }
    }

</script>